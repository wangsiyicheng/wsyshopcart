"use strict";function setData(){var t=JSON.parse(localStorage.getItem("cart")),a="";t&&t[0]?(t.forEach(function(t){a+="<tr data-id=".concat(t.ItemCode,"><td><input type='checkbox'></td><td><img src='//img01.hua.com/uploadpic/newpic/").concat(t.ItemCode,".jpg_80x87.jpg'></td><td class='orange'>").concat(t.Cpmc,"</td><td><s>").concat(t.LinePrice,"</s></td><td class='orange'>").concat(t.Price,"</td><td><input type='button' value='-' class=\"btn btn-danger minus\"><input type='text' value=").concat(t.num," class=\"form-control\"><input type='button' value='+' class=\"btn btn-primary plus\"></td><td>").concat(t.num*t.Price,'</td><td><button class="btn btn-danger del">删除</button></td></tr>'),$("tbody").html(a)}),total()):(a='<h3><a class="orange" href="./list.html">购物车中什么也没有,快去加购吧</a><h3>',$(".cartBox").empty().html(a))}function total(){var t=JSON.parse(localStorage.getItem("cart")),a=0,n=0;t.forEach(function(t){a+=t.num,n+=t.num*t.Price}),$(".container p").html("<span>共计:&nbsp;&nbsp;&nbsp;".concat(a,"&nbsp;&nbsp;&nbsp;件，</span>共计:&nbsp;&nbsp;&nbsp;").concat(n,"&nbsp;&nbsp;&nbsp;元<span></span>"))}setData(),$(".container table tr td .minus").click(function(){var a=$(this).parents("tr").data("id"),t=JSON.parse(localStorage.getItem("cart"));t.forEach(function(t){t.ItemCode==a&&(1===t.num?alert("数量已经是最小了"):t.num-=1)}),localStorage.setItem("cart",JSON.stringify(t)),setData(),location.reload()}),$(".container table tr td .plus").click(function(){var a=$(this).parents("tr").data("id"),t=JSON.parse(localStorage.getItem("cart"));t.forEach(function(t){t.ItemCode==a&&(t.num+=1)}),localStorage.setItem("cart",JSON.stringify(t)),setData(),location.reload()}),$(".container table tr td .del").click(function(){var c=$(this).parents("tr").data("id"),t=JSON.parse(localStorage.getItem("cart"));t.forEach(function(t,a,n){t.ItemCode==c&&n.splice(a,1)}),localStorage.setItem("cart",JSON.stringify(t)),setData(),location.reload()}),$(function(){$("thead #checkAll").bindCheck($("tbody :checkbox"),$("#unCheck"))}),$(".delAll .btn").click(function(){localStorage.removeItem("cart"),setData()});